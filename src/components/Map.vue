<template>
  <div>
    <div id="map" class="map"></div>
    <div class="location-trans-wrapper">
      <h3>ğŸš‡ ì§€í•˜ì² </h3>
      <p>1í˜¸ì„  í‰íƒì—­ 1ë²ˆ ì¶œêµ¬ ê°•ë‚¨ì•½êµ­ ë°©í–¥ ë„ë³´ 6ë¶„</p>

      <h3 class="spacing">ğŸšŒ ë²„ìŠ¤</h3>
      <p>í‰íƒì—­ ì •ë¥˜ì¥ í•˜ì°¨ í›„ ê°•ë‚¨ì•½êµ­ ë°©í–¥ ë„ë³´ 6ë¶„</p>

      <h3 class="spacing">ğŸ“ ì£¼ì†Œ</h3>
      <p>ê²½ê¸°ë„ í‰íƒì‹œ ì¤‘ì•™ë¡œ 46 Mí”„ë¼ì 9ì¸µ(í‰íƒë™ 35-3)</p>
      <p>â˜ï¸ Tel. 031-650-8200</p>

      <h3 class="spacing">ğŸ…¿ï¸ ì£¼ì°¨</h3>
      <p>ê±´ë¬¼ ì£¼ì°¨ì¥ ë˜ëŠ” ê±´ë„ˆí¸ ìë€ ê³µì˜ì£¼ì°¨ì¥ ì´ìš©</p>
      <p><span class="star">â€»</span> 2ì‹œê°„ ë¬´ë£Œ ì´ìš© ê°€ëŠ¥ ì´í›„ ì¶”ê°€ìš”ê¸ˆ ë°œìƒ</p>
    </div>
  </div>
</template>

<script>
export default {
  /* global kakao */
  mounted() {
    this.waitForKakaoMap();
  },
  methods: {
    waitForKakaoMap() {
      if (window.kakao && window.kakao.maps) {
        this.initMap();
      } else {
        // 100ms í›„ ì¬ì‹œë„
        setTimeout(this.waitForKakaoMap, 100);
      }
    },
    initMap() {
      const container = document.getElementById("map"); // ì§€ë„ë¥¼ ë‹´ì„ ì˜ì—­
      const options = {
        center: new kakao.maps.LatLng(36.99430453447451, 127.08792010448062), // ì§€ë„ ì¤‘ì‹¬ì¢Œí‘œ
        level: 2 // í™•ëŒ€ ë ˆë²¨
      };
      var map = new kakao.maps.Map(container, options);
      // ë§ˆì»¤ê°€ í‘œì‹œë  ìœ„ì¹˜ì…ë‹ˆë‹¤
      var markerPosition = new kakao.maps.LatLng(36.99430453447451, 127.08792010448062);
      var iwContent =
        '<div style="padding:0 auto;">ë“œë§ˆë ˆ ì›¨ë”©ì»¨ë²¤ì…˜ <br><a href="https://map.kakao.com/link/to/ë“œë§ˆë ˆ ì›¨ë”©ì»¨ë²¤ì…˜,36.99430453447451, 127.08792010448062" style="color:blue" target="_blank">ê¸¸ì°¾ê¸°</a></div>';
      // ë§ˆì»¤ë¥¼ ìƒì„±í•©ë‹ˆë‹¤
      var marker = new kakao.maps.Marker({
        position: markerPosition
      });

      // ì¸í¬ìœˆë„ìš°ë¥¼ ìƒì„±í•©ë‹ˆë‹¤
      var infowindow = new kakao.maps.InfoWindow({
        position: markerPosition,
        content: iwContent
      });

      // ë§ˆì»¤ê°€ ì§€ë„ ìœ„ì— í‘œì‹œë˜ë„ë¡ ì„¤ì •í•©ë‹ˆë‹¤
      marker.setMap(map);
      infowindow.open(map, marker);
    },

    setDraggable(draggable) {
      const container = document.getElementById("map"); // ì§€ë„ë¥¼ ë‹´ì„ ì˜ì—­
      const options = {
        center: new kakao.maps.LatLng(36.994465, 127.087989), // ì§€ë„ ì¤‘ì‹¬ì¢Œí‘œ
        level: 3 // í™•ëŒ€ ë ˆë²¨
      };
      var map = new kakao.maps.Map(container, options);
      map.setDraggable(draggable);
    }
  }
};
</script>

<style scoped src="../assets/css/Map.css"></style>
